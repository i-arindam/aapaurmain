<!DOCTYPE html>
<html>
  <head>
    <% content_for :stylesheet do %>
      <%= stylesheet_link_tag "users/dashboard" %>
    <% end %>
    <% content_for :js_footer do %>
      <%= javascript_include_tag "application-user" %>
    <% end %>
    <title>Lo! Your home page <%= (@user.name || "User").capitalize %></title>
    <script type="text/javascript">
       window.user_object = <%= raw @values['json'] if @values %>;
       $(function() {
         var actions = new UserActions();
       });
    </script>
  </head>
  <body>
    
    <div id="left_content">
      <span class="shortBio">
        <%= @user.name %>
      </span>
      <img src="/assets/users/image_placeholder.png" />
      <span class="shortBio">
        <%= @user.short_bio || 'Thats me' %>
      </span>
    </div>

    <div id="box_content">
    <div class="container dashBoardContainer profile">
      <span class="span12 dashboardHeading">Howdy! Check out the amazing people we found for you and some who found you!</span>
      
      <ul class="nav nav-pills mainNav">
        <li class="<%= @tab_to_show == 'in' ? 'active' : '' %>"><a href="#">Incoming Requests</a></li>
        <li class="<%= @tab_to_show == 'out' ? 'active' : '' %>"><a href="#">Outgoing Requests</a></li>
        <li class="<%= @tab_to_show == 'reco' ? 'active' : '' %>"><a href="#">Recommendations</a></li>
        <li><a href="#">Your Profile Viewers</a></li>
      </ul>
      
      
      <div class="requestContainer span10 <%= @tab_to_show == 'in' ? '' : 'hide' %>">
        <ul class="requestList incomingRequests">
          <% @in_requests.each do |in_req| %>
          <li class="select-thumbnails" id="<%= in_req.id %>">
            <span class="messageText" rel="tooltip" data-original-title="Hello this is female 1. Would you like to talk to me">Hello this is...</span>
            <a href="#">
              <img src="/assets/users/96x96.gif">
              <h3 class="name"><%= in_req.name %></h3>
            </a>
          </li>
          <% end %>
        </ul>
      </div>

      <div class="requestContainer span10 <%= @tab_to_show == 'out' ? '' : 'hide' %>">
        <ul class="requestList outgoingRequests">
          <% @out_requests.each do |out_req| %>
          <li class="select-thumbnails" id= '<%= out_req.id %>' >
            <span class="messageText" rel="tooltip" data-original-title="Hello this is female 1. Would you like to talk to me">Hello this is...</span>
            <a href="#">
              <img src="/assets/users/96x96.gif">
              <h3 class="name"><%= out_req.name %></h3>
            </a>
          </li>
          <% end %>
        </ul>
      </div>

      <div class="requestContainer span10 <%= @tab_to_show == 'reco' ? '' : 'hide' %>">
        <ul class="requestList recommendations">
          <% @recos.each do |reco| %>
          <li class="select-thumbnails" id= '<%= reco.id %>' >
            <span class="messageText" rel="tooltip" data-original-title="Hello this is female 1. Would you like to talk to me">Hello this is...</span>
            <a href="#">
              <img src="/assets/users/96x96.gif">
              <h3 class="name"><%= reco.name %></h3>
            </a>
          </li>
          <% end %>
        </ul>
      </div>

      <div class="requestContainer span10 hide">
        <ul class="requestList profileViewers">
          <% @profile_viewers.each do |prof| %>
          <li class="select-thumbnails" id= '<%= prof[:id] %>' >
            <a href="#">
              <h3 class="name"><%= prof[:name] %></h3>
              <img src="/assets/users/96x96.gif">
            </a>
            on <span class="viewDate"><%= prof[:viewed_on_date] %></span>
            at <span class="viewTime"><%= prof[:viewed_on_time] %></span>
          </li>
          <% end %>
        </ul>
      </div>

      <h3 class="span6 requestLabel">&nbsp;</h3>
      <%= render :partial => 'viewer_pane', :locals => {:user_collection => @in_requests, :class_name => '' ,
         :viewer_pane_info => @viewer_pane_info[:in_requests] ,:id => 'in_pane' } %>
      <%= render :partial => 'viewer_pane', :locals => {:user_collection => @out_requests, :class_name => 'hide', 
        :viewer_pane_info => @viewer_pane_info[:out_requests] , :id => 'out_pane'} %>
      <%= render :partial => 'viewer_pane', :locals => {:user_collection => @recos, :class_name => 'hide' , :viewer_pane_info => nil , :id => 'recos_pane'} %>
      <%= render :partial => 'viewer_pane', :locals => {:user_collection => @profile_viewers_users, :class_name => 'hide', :viewer_pane_info => nil , :id =>'prof_view_pane'} %>
      
    </div>
    </div> <!-- box_content -->
    <div id="right_content">&nbsp;</div>
  </body>
</html>
